<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; MEDfl 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/general.css" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/dark.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/dark_mode_js/default_light.js"></script>
        <script src="_static/dark_mode_js/theme_switcher.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MEDfl" href="modules.html" />
    <link rel="prev" title="Configuration File" href="configuration_file.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/MEDomics.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration_file.html">Configuration File</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#real-world-scenario">Real world scenario</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#database-management">Database management</a></li>
<li class="toctree-l1"><a class="reference internal" href="#netmanager">NetManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="#transfer-learning">Transfer Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="#learning-manager">Learning Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="#learning-results">Learning Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="#model-choice">Model choice</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">MEDfl</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MEDfl</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Introduction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tutorials.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h1>
<p><code class="docutils literal notranslate"><span class="pre">MEDfl</span></code> is a new python package, which is a hybridization of <code class="docutils literal notranslate"><span class="pre">Flower</span></code> and <code class="docutils literal notranslate"><span class="pre">Opacus</span></code>,
while getting inspired by the <code class="docutils literal notranslate"><span class="pre">Pysyft</span></code> framework, the main strengths of <code class="docutils literal notranslate"><span class="pre">MEDfl</span></code> is that
both users and developpers will  benifit from  all features of the three listed frameworks.</p>
<section id="real-world-scenario">
<h2>Real world scenario<a class="headerlink" href="#real-world-scenario" title="Permalink to this heading"></a></h2>
<p><strong>Martin</strong> is an AI researcher, his main interest is  the applications of AI into the healthcare domain.
Recently, he has recieved a call from a prestigious institute, in order to make a study about the realisation of a new project. The project’s goal is  designing and developping a federated learning system between a set of hospitals, and that by training and using a deep learning model with preserving the privacy of all patient records.</p>
<p>When Martin finished the first analysis of the project statement, he realized that the project involve the use of Federated Learning, Differential Privacy within a good storage monitoring system.</p>
<p>Fortunately, Martin knows <code class="docutils literal notranslate"><span class="pre">MEDfl</span></code>, and he is pretty sure that it’s designed for such tasks, and it will be do the desired work.
<code class="docutils literal notranslate"><span class="pre">MEDfl</span></code> with his two main sub-packages, <code class="docutils literal notranslate"><span class="pre">NetManager</span></code> , <code class="docutils literal notranslate"><span class="pre">LearningManager</span></code> , let us designing FL expirements and simulating real world scenarios, and that by using differents options to make  differents FL architectures (or setups) as well as using differents FL pipelines.</p>
</section>
</section>
<section id="database-management">
<h1>Database management<a class="headerlink" href="#database-management" title="Permalink to this heading"></a></h1>
<p>In this tutorial, we’ll demonstrate how to initialize your database and establish its connection to MEDfl. Subsequently, we’ll explore the step-by-step process of storing various pieces of information.</p>
<p>Our choice for utilizing <a class="reference external" href="https://www.mysql.com/fr/">MySQL</a> as the database system is due to its robust features, reliability, and widespread adoption in the industry. Its strong support for structured query language (SQL) and its scalability make it an ideal choice for managing the diverse data sets and configurations within MEDfl.</p>
<a class="reference internal image-reference" href="_images/mysqllogo.png"><img alt="_images/mysqllogo.png" src="_images/mysqllogo.png" style="width: 150px; height: 50px;" /></a>
<p>Before beginning, ensure that you have installed MySQL and one of the servers, such as <a class="reference external" href="https://www.wampserver.com">WAMP</a> or <a class="reference external" href="https://www.apachefriends.org/fr/index.html">XAMPP</a> , and have them running.</p>
<p>To visualize your database, you can open <cite>PHPMyAdmin &lt;https://www.phpmyadmin.net&gt;</cite>, a web-based tool that allows for convenient management and visualization of your database.</p>
<a class="reference internal image-reference" href="_images/wampLogo.png"><img alt="_images/wampLogo.png" src="_images/wampLogo.png" style="width: 120px; height: 50px;" /></a>
<a class="reference internal image-reference" href="_images/xampplogo.png"><img alt="_images/xampplogo.png" src="_images/xampplogo.png" style="width: 160px; height: 50px;" /></a>
<a class="reference internal image-reference" href="_images/phpmyadmin.png"><img alt="_images/phpmyadmin.png" src="_images/phpmyadmin.png" style="width: 150px; height: 50px;" /></a>
<p>You can also find this tutorial on the repository  <a class="reference external" href="https:///">Database management tutorial</a></p>
</section>
<section id="netmanager">
<h1>NetManager<a class="headerlink" href="#netmanager" title="Permalink to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">NetManager</span></code> module within <code class="docutils literal notranslate"><span class="pre">MEDfl</span></code> is responsible for the generation of federated learning networks. It relies on a CSV file containing a DataSet as input. Leveraging this Dataset file, the module creates various nodes within the network, assigns a dataset to each node, and generates the federated dataset for each node. Subsequently, these federated datasets are transferred to the subsequent package, <cite>Learning Manager</cite>.</p>
<img alt="_images/MEDfl_Diagramm.png" src="_images/MEDfl_Diagramm.png" />
<p>The NetManager workflow involves five primary steps:</p>
<ol class="arabic simple">
<li><p><strong>Network creation</strong></p></li>
<li><p><strong>DataSets storage</strong></p></li>
<li><p><strong>Nodes Creation</strong></p></li>
<li><p><strong>FLsetup Creation</strong></p></li>
<li><p><strong>Federated DataSet Creation</strong></p></li>
</ol>
<a class="reference internal image-reference" href="_images/NetManager_Diagramm.png"><img alt="_images/NetManager_Diagramm.png" class="align-center" src="_images/NetManager_Diagramm.png" style="width: 70%;" /></a>
</section>
<section id="transfer-learning">
<h1>Transfer Learning<a class="headerlink" href="#transfer-learning" title="Permalink to this heading"></a></h1>
<p>This notebook demonstrates the process of integrating <a class="reference external" href="https://ieeexplore.ieee.org/abstract/document/5288526/">Transfer Learning</a> using the <code class="docutils literal notranslate"><span class="pre">MEDfl</span></code> package. The primary objective of incorporating transfer learning with the package is to harness the capabilities of <a class="reference external" href="https://link.springer.com/chapter/10.1007/978-3-031-11748-0_3">Federated-Transfer Learning</a> in training models across different hospitals. In real-world scenarios, one of the clients or the aggregating server might possess a <a class="reference external" href="https://blogs.nvidia.com/blog/what-is-a-pretrained-ai-model/#:~:text=A%20pretrained%20AI%20model%20is,8%2C%202022%20by%20Angie%20Lee">pre-trained model</a> . Leveraging this pre-trained model offers advantages such as enhancing performance and reducing training time.</p>
<p>In some instances, a client may lack sufficient data to train a model entirely from scratch, hindering the ability to achieve optimal performance. Utilizing transfer learning becomes a viable strategy to maximize the benefits from each client, allowing the integration of previously learned knowledge to enhance model training and performance.</p>
<a class="reference internal image-reference" href="_images/FTL_comp.png"><img alt="_images/FTL_comp.png" src="_images/FTL_comp.png" style="width: 600px; height: 400px;" /></a>
</section>
<section id="learning-manager">
<h1>Learning Manager<a class="headerlink" href="#learning-manager" title="Permalink to this heading"></a></h1>
<img alt="_images/MEDfl_Diagramm.png" src="_images/MEDfl_Diagramm.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">Learning</span> <span class="pre">Manager</span></code>, serving as the second subpackage of <code class="docutils literal notranslate"><span class="pre">MEDfl</span></code>, extends the work initiated by the <code class="docutils literal notranslate"><span class="pre">NetManager</span></code>. It operates by taking the federated dataset as its input and, through its processes, generates a <strong>Trained model</strong>. Additionally, it <strong>stores relevant Results</strong> within the database.</p>
<p>The Federated module of MEDfl, which is based on the <a class="reference external" href="https://flower.dev/">Flower</a> framework, is well-designed for doing this task. It mainly follows the Flower paradigm but with many customizations to deal with the SQL database and to be homogeneous with the <cite>NetManager</cite>.</p>
<a class="reference internal image-reference" href="_images/LearningManager.png"><img alt="_images/LearningManager.png" src="_images/LearningManager.png" style="width: 50%;" /></a>
</section>
<section id="learning-results">
<h1>Learning Results<a class="headerlink" href="#learning-results" title="Permalink to this heading"></a></h1>
<p>The testing process in <code class="docutils literal notranslate"><span class="pre">MEDfl</span></code> is organized into two main phases:</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Test Phases</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 20.0%" />
<col style="width: 30.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Test</p></th>
<th class="head"><p>Used DataSet</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Local Test:</strong></p></td>
<td><p>Test Loaders</p></td>
<td><p>Analyze and compare model results</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Independent Tests:</strong></p></td>
<td><p>HoldOut Dataset</p></td>
<td><p>Validate the final model with an external dataset</p></td>
</tr>
</tbody>
</table>
<a class="reference internal image-reference" href="_images/learningresults.png"><img alt="_images/learningresults.png" src="_images/learningresults.png" style="width: 50%;" /></a>
</section>
<section id="model-choice">
<h1>Model choice<a class="headerlink" href="#model-choice" title="Permalink to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">DynamicModel</span></code> class in the <code class="docutils literal notranslate"><span class="pre">MEDfl</span></code> package enables dynamic creation of diverse neural network architectures. By allowing users to specify key parameters <code class="docutils literal notranslate"><span class="pre">params_dict</span></code> like input dimensions, hidden layer sizes, and output dimensions, the class provides adaptability to various machine learning tasks.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">Title</span><a class="headerlink" href="#id3" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 5.0%" />
<col style="width: 30.0%" />
<col style="width: 65.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>N</p></th>
<th class="head"><p>Machine Learning Task</p></th>
<th class="head"><p>Parameters</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p><strong>Binary Classification</strong></p></td>
<td><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;input_dim&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
          <span class="s1">&#39;hidden_dims&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span>
          <span class="s1">&#39;output_dim&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="s1">&#39;activation&#39;</span><span class="p">:</span> <span class="s1">&#39;relu&#39;</span><span class="p">,</span>
          <span class="s1">&#39;dropout_rate&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
          <span class="s1">&#39;batch_norm&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
          <span class="s1">&#39;use_gpu&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p><strong>Multiclass Classification</strong></p></td>
<td><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;input_dim&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
          <span class="s1">&#39;hidden_dims&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">32</span><span class="p">],</span>
          <span class="s1">&#39;output_dim&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
          <span class="s1">&#39;activation&#39;</span><span class="p">:</span> <span class="s1">&#39;relu&#39;</span><span class="p">,</span>
          <span class="s1">&#39;dropout_rate&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
          <span class="s1">&#39;batch_norm&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
          <span class="s1">&#39;use_gpu&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p><strong>Linear Regression</strong></p></td>
<td><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;input_dim&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
           <span class="s1">&#39;output_dim&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
           <span class="s1">&#39;use_gpu&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p><strong>Logistic Regression</strong></p></td>
<td><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;input_dim&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
          <span class="s1">&#39;use_gpu&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p><strong>CNN</strong></p></td>
<td><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;input_channels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
          <span class="s1">&#39;output_channels&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
          <span class="s1">&#39;kernel_size&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
          <span class="s1">&#39;use_gpu&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p><strong>RNN</strong></p></td>
<td><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;input_size&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
          <span class="s1">&#39;hidden_size&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
          <span class="s1">&#39;use_gpu&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p><strong>LSTM Network</strong></p></td>
<td><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;input_size&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
          <span class="s1">&#39;hidden_size&#39;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
          <span class="s1">&#39;use_gpu&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p><strong>Autoencoder</strong></p></td>
<td><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;input_size&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
          <span class="s1">&#39;encoder_hidden_size&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
          <span class="s1">&#39;use_gpu&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>As an integral part of the <code class="docutils literal notranslate"><span class="pre">MEDfl</span></code> package, the <code class="docutils literal notranslate"><span class="pre">DynamicModel</span></code> class aligns with the package’s goal of delivering accessible, efficient, and adaptable tools for medical-focused machine learning applications, enabling users to seamlessly generate and models for diverse medical classification and regression tasks.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="configuration_file.html" class="btn btn-neutral float-left" title="Configuration File" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="modules.html" class="btn btn-neutral float-right" title="MEDfl" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, MEDomics consortium.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>